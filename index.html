<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>html,body{background-color:#030404}</style>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="script.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="skymap" src="https://cdn.glitch.com/debf1c79-d24f-44f7-9024-902b01f31b98%2Fsky.jpg?1517879532002" crossorigin="anonymous">
        <img id="floor" src="https://cdn.glitch.com/debf1c79-d24f-44f7-9024-902b01f31b98%2Ftile.jpg?1517962800333" crossorigin="anonymous">
      </a-assets>

      <a-entity id="sky" geometry="primitive:sphere; radius:30; phiLength:360; phiStart:0; thetaLength:90" material="shader:flat; side:back; height:2048; src:#skymap; width:2048"></a-entity>
      <a-entity id="ground"
                geometry="primitive: box; width: 15; height: 0.01; depth: 15"
                material="shader: flat; src: #floor; repeat: 50 50"
                shadow="receive: true"
                position= "0 -0.005 0">
      </a-entity>

<!--       <a-light type="point" light="color: #fff; intensity:0.6 castShadow: true;" position="3 10 1"></a-light> -->
<!--       <a-entity light="type: directional; color: #FFF; intensity:0.9; castShadow: true;" position="-3 5 0" rotation="3 3 5"></a-entity> -->
<!--       <a-light type="hemisphere" groundcolor="#888" intensity="0.5"></a-light> -->

      <a-entity id="cameraRig" position="0 1.7 0" rotation="0 0 0">
        <a-entity camera look-controls wasd-controls>
          <a-entity cursor="fuse: true; fuseTimeout: 500"
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.017"
                    material="color: yellow; shader: flat">
          </a-entity>
    	  </a-entity>
        
        <!-- Hands -->
        <a-entity hand-controls="left" aabb-collider="objects: .cube;" grab></a-entity>
        <a-entity hand-controls="right" aabb-collider="objects: .cube;" grab></a-entity>
      
      </a-entity>
      <a-box id="chartWrapper" geometry="width: 1; height: 0.006; depth: 1"
                material="shader: flat; color: #227"
                shadow="receive: true"
                position="0 -0.002 0">
        <a-entity barchart="csv: car.csv" position="0 0 0"></a-entity>
        <a-entity id="axes">
          <a-entity id="x-axis">
          </a-entity>
          <a-entity id="y-axis">
          </a-entity>
          <a-entity id="z-axis">
          </a-entity>
        </a-entity>
        <a-entity id="grid">
          <a-entity id="x-grid">
          </a-entity>
          <a-entity id="z-grid">
          </a-entity>
        </a-entity>
      </a-box>
      
    </a-scene>
  </body>
</html>